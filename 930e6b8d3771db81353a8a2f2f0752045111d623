{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5f6b754b_bcaf4f10",
        "filename": "src/system/Network.cpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-02-15T21:52:17Z",
      "side": 1,
      "message": "nit: consider that multiline raw string literal for this purpose, that\u0027s IMHO more readable here",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 72
      },
      "revId": "930e6b8d3771db81353a8a2f2f0752045111d623",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce25c2dd_8268c6ba",
        "filename": "src/system/Network.cpp",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-02-15T21:52:17Z",
      "side": 1,
      "message": "This method takes a sysrepo session as its input, takes a look at some libyang data structures (that\u0027s language #1), creates a custom data structure out of that (language #2) and passes the result to a configuration rendered which generates a string for systemd-networkd (language #3).\n\nWhat\u0027s the point of introducing the language #3 into the mix?",
      "revId": "930e6b8d3771db81353a8a2f2f0752045111d623",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf7a4983_0a9a3171",
        "filename": "src/system/Network.cpp",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-02-15T21:52:17Z",
      "side": 1,
      "message": "I think only the `nomaster` is needed, and that systemd-networkd will automatically enslave those interfaces which now belong to a bridge behind the scenes. It\u0027s just that removal from the bridge that\u0027s needed.",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 96,
        "endChar": 9
      },
      "revId": "930e6b8d3771db81353a8a2f2f0752045111d623",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df7ab96d_5e290a5c",
        "filename": "tests/sysrepo_system-network.cpp",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2021-02-15T21:04:00Z",
      "side": 1,
      "message": "This part is still WIP (though I\u0027m not labelling the commit as WIP so it is brought to your attention).\n\nI can\u0027t run the actual test because it would run networkctl/ip. I can probably pass the \"reconfigure\" function to Network class from the outside (the real func. from main and some dummy func. from here) but Jan said (in some of the previous commits) that he does not like passing large lambdas into the Sysrepo-implementing classes :-)",
      "revId": "930e6b8d3771db81353a8a2f2f0752045111d623",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65c3c771_ede77f72",
        "filename": "tests/sysrepo_system-network.cpp",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-02-15T21:52:17Z",
      "side": 1,
      "message": "What I said was not against callbacks and functors. I dislike initializing these std:function class members via the member initializer list in the constructor; I think that\u0027s not readable code.\n\nIt looks that this patch currently (in its \"combined form\" where you do both to-bridge-or-not-to-bridge and to-DHCP-or-to-static-address) needs two interaction points with the rest of the system:\n\n- putting files somewhere into the filesystem, and calling `networkctl restart` when done,\n- doing a manual fixup to remove an interface from a bridge.\n\nI think it\u0027s reasonable to test the code exactly like that. Once a new configuration arrives, do two things:\n\n- Return a list of config files that correspond to the new configuration in its complete form. This patch deals just with eth1, so it will be a map\u003cstring, string\u003e where the key is the interface name, and the value it the content of that config file.\n\n- Return a list of interfaces to call `nomaster` on.\n\nThen your \"real executor called from main()\" will:\n\n- nuke all config files from /run/systemd/network/,\n- put the new files in there,\n- release the previously enslaved interfaces which should not longer be enslaved,\n- restart systemd-networkd.\n\n...while the test code would just take a look at the strings with config files, and a list of actions to take.",
      "parentUuid": "df7ab96d_5e290a5c",
      "revId": "930e6b8d3771db81353a8a2f2f0752045111d623",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    }
  ]
}